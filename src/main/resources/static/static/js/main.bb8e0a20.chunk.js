(this["webpackJsonpmy-contacts"]=this["webpackJsonpmy-contacts"]||[]).push([[0],{139:function(t,e,n){},217:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),a=n(25),r=n.n(a),i=(n(139),n(132)),s=n(58),u=n(223),l=n(224),d=n(43),h=n(221),j=n(222),f=n(220),b=n(84),g=n(108),O=function(t,e,n){var c="http://localhost:8080"+t;"get"===Object(g.lowerCase)(e)&&(c=c+(Object(g.indexOf)(c,"?")>=0?"&":"?")+"cachedTime="+(new Date).getTime());var o={method:e},a=new Headers({Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache, no-store, no-transform",Pragma:"no-cache","Access-Control-Allow-Origin":"*"});return o=Object.assign(o,{headers:a}),n&&(o=Object.assign(o,{body:JSON.stringify(n)})),fetch(c,o).then((function(t){return m(t)}))},m=function(t){if(!t.ok)try{return 401===t.status?Promise.reject("Client must be authenticated to access this resource."):404===t.status?Promise.reject("Service is not available!"):405===t.status?Promise.reject("Service method is not allowed!"):t.json().then((function(t){return Promise.reject(t)}))}catch(e){return Promise.reject("An error occurred!")}return t.json().then((function(t){return t}))},p=function t(){Object(b.a)(this,t)};p.loadContacts=function(t,e,n,c){var o={endpoint:"/contact/all/page/".concat(t,"/size/").concat(e),method:"get"};O(o.endpoint,o.method,null).then((function(t){n(t)}),(function(t){c(t)}))},p.searchContacts=function(t,e,n,c,o){var a={endpoint:"/contact/search?name=".concat(t,"&page=").concat(e,"&size=").concat(n),method:"get"};O(a.endpoint,a.method,null).then((function(t){c(t)}),(function(t){o(t)}))};var v=n(127),C=function t(){Object(b.a)(this,t)};C.showErrorText=function(t,e){v.a.error({message:t,description:e})},C.showSucceedMessage=function(t,e){v.a.success({message:t,description:e})};n(143);var y=n(99),x=n(120),w=n.n(x),S=n(24);var k=function(){var t=Object(c.useState)(void 0),e=Object(s.a)(t,2),n=e[0],o=e[1],a=Object(c.useState)(!1),r=Object(s.a)(a,2),b=r[0],g=r[1],O=Object(c.useState)(void 0),m=Object(s.a)(O,2),v=m[0],x=m[1],k=Object(c.useState)(void 0),E=Object(s.a)(k,2),T=E[0],z=E[1],P=Object(c.useState)(0),F=Object(s.a)(P,2),I=F[0],D=F[1],A=Object(c.useState)(10),L=Object(s.a)(A,2),B=L[0],J=L[1];Object(c.useEffect)((function(){g(!0),T?p.searchContacts(T,I,B,(function(t){g(!1),t.data&&(o(t.data.content),x(t.data.totalElements))}),(function(t){g(!1),o(void 0),x(0),C.showErrorText("Error","Could not load contacts!")})):p.loadContacts(I,B,(function(t){g(!1),t.data&&(o(t.data.content),x(t.data.totalElements))}),(function(t){g(!1),o(void 0),x(0),C.showErrorText("Error","Could not load contacts!")}))}),[I,B,T]);var K,M=function(t,e){e(),z(t[0])},N=function(t){t(),z("")},H=[{title:"ID",dataIndex:"id",key:"id"},{title:"Avatar",dataIndex:"avatarUrl",key:"avatarUrl",render:function(t){return Object(S.jsx)(h.a,{width:30,height:40,src:t})}},Object(i.a)({title:"Name",dataIndex:"name",key:"name"},(K="name",{filterDropdown:function(t){var e=t.setSelectedKeys,n=t.selectedKeys,c=t.confirm,o=t.clearFilters;return Object(S.jsxs)("div",{style:{padding:8},children:[Object(S.jsx)(u.a,{placeholder:"Search ".concat(K),value:n[0],onChange:function(t){return e(t.target.value?[t.target.value]:[])},onPressEnter:function(){return M(n,c)},style:{marginBottom:8,display:"block"}}),Object(S.jsxs)(l.b,{children:[Object(S.jsx)(d.a,{type:"primary",onClick:function(){return M(n,c)},icon:Object(S.jsx)(y.a,{}),size:"small",style:{width:90},children:"Search"}),Object(S.jsx)(d.a,{onClick:function(){return N(o)},size:"small",style:{width:90},children:"Reset"}),Object(S.jsx)(d.a,{type:"link",size:"small",onClick:function(){c({closeDropdown:!1}),z(n[0])},children:"Filter"})]})]})},filterIcon:function(t){return Object(S.jsx)(y.a,{style:{color:t?"#1890ff":void 0}})},onFilter:function(t,e){return e[K]?e[K].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){},render:function(t){return Object(S.jsx)(w.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[T],autoEscape:!0,textToHighlight:t?t.toString():""})}}))],U={total:v,showSizeChanger:!0,pageSizeOptions:["10","25","50","100","150","250","500","1000"],defaultCurrent:1};return Object(S.jsxs)("div",{style:{margin:50},children:[Object(S.jsx)(j.a,{className:"site-page-header",title:"My Contacts",subTitle:"This page shows the list of your contacts."}),Object(S.jsx)(f.a,{loading:b,rowKey:function(t){return t.id},size:"small",columns:H,dataSource:n||[],pagination:U,onChange:function(t){return function(t){D(t.current-1),J(t.pageSize)}(t)}})]})};var E=function(){return Object(S.jsx)("div",{children:Object(S.jsx)(k,{})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),c(t),o(t),a(t),r(t)}))};r.a.render(Object(S.jsx)(o.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root")),T()}},[[217,1,2]]]);
//# sourceMappingURL=main.bb8e0a20.chunk.js.map